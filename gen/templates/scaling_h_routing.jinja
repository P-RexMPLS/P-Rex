<routes>
    <routings>
        <routing for="s1">
            <destinations>
                <destination from="i1" label="">
                    <te-groups>
                        <te-group>
                            <routes>
                                <route to="s2">
                                    <actions>
                                    {% for i in range(n) %}
                                        <action arg="{{ i }}" type="push" />
                                    {% endfor %}
                                    </actions>
                                </route>
                            </routes>
                        </te-group>
                    </te-groups>
                </destination>
            </destinations>
        </routing>
        <routing for="s2">
            <destinations>
                <destination from="s1" label="{{ n - 1 }}">
                    <te-groups>
                        <te-group>
                            <routes>
                                <route to="s3">
                                    <actions>
                                        {% for i in range(n) %}
                                            <action type="pop" />
                                        {% endfor %}
                                    </actions>
                                </route>
                            </routes>
                        </te-group>
                    </te-groups>
                </destination>
            </destinations>
        </routing>
        <routing for="s3">
            <destinations>
                <destination from="s2" label="">
                    <te-groups>
                        <te-group>
                            <routes>
                                <route to="i1">
                                    <actions>
                                    </actions>
                                </route>
                            </routes>
                        </te-group>
                    </te-groups>
                </destination>
            </destinations>
        </routing>
    </routings>
</routes>
